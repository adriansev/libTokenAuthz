#######################################################################
## Makefile.am for libTokenAuthz
##
##
## Version info: $Id: Makefile.am,v 1.9 2006/11/10 13:21:46 apeters Exp $
## Checked in by $Author: apeters $
#######################################################################

SUBDIRS = AuthzXMLreader SealedEnvelope .

AM_CPPFLAGS = -I /usr/kerberos/include -I$(top_srcdir)/SealedEnvelope  -I$(top_srcdir)/AuthzXMLreader \
           $(BASE_INCDIR) $(OPENSSL_INCDIR)

ACLOCAL_AMFLAGS = -I m4

lib_LTLIBRARIES = libTokenAuthz.la
include_HEADERS = TTokenAuthz.h

libTokenAuthz_la_SOURCES = TTokenAuthz.cxx TTokenAuthz.h

libTokenAuthz_la_LIBADD =  SealedEnvelope/libConvSealedEnvelope.la \
                           AuthzXMLreader/libConvAuthzXMLreader.la \
                           $(LIBPTHREAD)

libTokenAuthz_la_LDFLAGS = -version-info 1:1:0

bin_PROGRAMS = tokenauthztest
tokenauthztest_SOURCES = tokenauthztest.cxx
tokenauthztest_LDADD = -lcrypto -lpthread libTokenAuthz.la

EXTRA_DIST = configure.ac configure bootstrap.sh conf/TkAuthz.Authorization.allow-all \
conf/TkAuthz.Authorization.example \
conf/TkAuthz.Authorization.test \
tokenauthz.spec

